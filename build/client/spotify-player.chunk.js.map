{"version":3,"sources":["webpack:///./source/client/vendor/spotify-player.js"],"names":["e","t","r","n","exports","s","i","l","call","m","c","d","o","Object","defineProperty","configurable","enumerable","get","__esModule","default","prototype","hasOwnProperty","p","SPOTIFY_MESSAGE","ACCOUNT_ERROR","AUTH_ERROR","CONNECT","CONNECTED","CURRENT_STATE","DISCONNECT","EVENT","GET_CURRENT_STATE","GET_TOKEN","GET_VOLUME","INIT","LOADED","NEXT_TRACK","PAUSE","PLAYBACK_ERROR","PLAYER_INIT_ERROR","PLAYER_READY","PLAYER_NOT_READY","PLAYER_STATE_CHANGED","PREV_TRACK","RESUME","SEEK","SET_NAME","SET_VOLUME","TOGGLE_PLAY","TOKEN","VOLUME","accountError","_createEventMessage","message","authError","playbackError","playerReady","playerNotReady","connect","_createMessage","connected","ref","disconnect","init","playerInitError","getToken","token","pause","resume","togglePlay","seek","nextTrack","previousTrack","getCurrentState","currentState","state","playerStateChanged","getVolume","volume","setVolume","setName","embeddedLoaded","name","eventData","type","body","topic","data","JSON","parse","stringify","Function","eval","window","document","Error","Spotify","Player","setupPlayerEnv","onSpotifyWebPlaybackSDKReady","onSpotifyPlayerAPIReady","readyState","addEventListener","a","u","defer","_","createElement","src","setAttribute","style","setProperty","allow","appendChild","contentWindow","h","stopListening","resolve","listen","f","_options","_sanitizeOptions","_handleMessages","bind","_messageHandlers","_eventListeners","_setupMessageHandlers","_connectionRequests","_getCurrentStateRequests","_getVolumeRequests","isLoaded","promise","then","_sendMessage","location","hostname","id","getOAuthToken","getOauthToken","_onGetToken","_onEvent","_onConnected","_onCurrentState","_onVolume","on","TypeError","indexOf","push","addListener","removeListener","arguments","length","filter","_sendMessageWhenLoaded","_getListeners","forEach","send","_onMessageCallback","_receiveMessage","_messageId","removeEventListener","postMessage","_addMessageId","seq","Promise","value","writable","reject","all","apply","Uint8Array","crypto","getRandomValues","toHex","join","slice","Array","Math","floor","random","localStorage","getItem","setItem","generate","generateWithCrypto","generateWithRandom","reverse","fromBytes","toBytes","fromHex"],"mappings":"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","file":"spotify-player.chunk.js","sourcesContent":["/* Spotify JS-SDK - v1.7.1-d2b664d */\r\n!(function (e) {\r\n\tfunction t(r) {\r\n\t\tif (n[r]) return n[r].exports;\r\n\t\tconst s = (n[r] = {i: r, l: !1, exports: {}});\r\n\t\treturn e[r].call(s.exports, s, s.exports, t), (s.l = !0), s.exports;\r\n\t}\r\n\tvar n = {};\r\n\t(t.m = e),\r\n\t(t.c = n),\r\n\t(t.d = function (e, n, r) {\r\n\t\tt.o(e, n)\r\n        || Object.defineProperty(e, n, {\r\n        \tconfigurable: !1,\r\n        \tenumerable: !0,\r\n        \tget: r,\r\n        });\r\n\t}),\r\n\t(t.n = function (e) {\r\n\t\tconst n\r\n        = e && e.__esModule\r\n        \t? function () {\r\n        \t\treturn e.default;\r\n        \t}\r\n        \t: function () {\r\n        \t\treturn e;\r\n        \t};\r\n\t\treturn t.d(n, 'a', n), n;\r\n\t}),\r\n\t(t.o = function (e, t) {\r\n\t\treturn Object.prototype.hasOwnProperty.call(e, t);\r\n\t}),\r\n\t(t.p = ''),\r\n\tt((t.s = 2));\r\n})([\r\n\tfunction (e, t, n) {\r\n\t\tvar r = {\r\n\t\t\tSPOTIFY_MESSAGE: 'SP_MESSAGE',\r\n\t\t\tACCOUNT_ERROR: 'ACCOUNT_ERROR',\r\n\t\t\tAUTH_ERROR: 'AUTH_ERROR',\r\n\t\t\tCONNECT: 'CONNECT',\r\n\t\t\tCONNECTED: 'CONNECTED',\r\n\t\t\tCURRENT_STATE: 'CURRENT_STATE',\r\n\t\t\tDISCONNECT: 'DISCONNECT',\r\n\t\t\tEVENT: 'EVENT',\r\n\t\t\tGET_CURRENT_STATE: 'GET_CURRENT_STATE',\r\n\t\t\tGET_TOKEN: 'GET_TOKEN',\r\n\t\t\tGET_VOLUME: 'GET_VOLUME',\r\n\t\t\tINIT: 'INIT',\r\n\t\t\tLOADED: 'LOADED',\r\n\t\t\tNEXT_TRACK: 'NEXT_TRACK',\r\n\t\t\tPAUSE: 'PAUSE',\r\n\t\t\tPLAYBACK_ERROR: 'PLAYBACK_ERROR',\r\n\t\t\tPLAYER_INIT_ERROR: 'PLAYER_INIT_ERROR',\r\n\t\t\tPLAYER_READY: 'PLAYER_READY',\r\n\t\t\tPLAYER_NOT_READY: 'PLAYER_NOT_READY',\r\n\t\t\tPLAYER_STATE_CHANGED: 'PLAYER_STATE_CHANGED',\r\n\t\t\tPREV_TRACK: 'PREV_TRACK',\r\n\t\t\tRESUME: 'RESUME',\r\n\t\t\tSEEK: 'SEEK',\r\n\t\t\tSET_NAME: 'SET_NAME',\r\n\t\t\tSET_VOLUME: 'SET_VOLUME',\r\n\t\t\tTOGGLE_PLAY: 'TOGGLE_PLAY',\r\n\t\t\tTOKEN: 'TOKEN',\r\n\t\t\tVOLUME: 'VOLUME',\r\n\t\t\taccountError(e) {\r\n\t\t\t\treturn this._createEventMessage(r.ACCOUNT_ERROR, {message: e});\r\n\t\t\t},\r\n\t\t\tauthError(e) {\r\n\t\t\t\treturn this._createEventMessage(r.AUTH_ERROR, e);\r\n\t\t\t},\r\n\t\t\tplaybackError(e) {\r\n\t\t\t\treturn this._createEventMessage(r.PLAYBACK_ERROR, e);\r\n\t\t\t},\r\n\t\t\tplayerReady(e) {\r\n\t\t\t\treturn this._createEventMessage(r.PLAYER_READY, e);\r\n\t\t\t},\r\n\t\t\tplayerNotReady(e) {\r\n\t\t\t\treturn this._createEventMessage(r.PLAYER_NOT_READY, e);\r\n\t\t\t},\r\n\t\t\tconnect() {\r\n\t\t\t\treturn this._createMessage(r.CONNECT);\r\n\t\t\t},\r\n\t\t\tconnected(e, t) {\r\n\t\t\t\treturn this._createMessage(r.CONNECTED, {connected: e, ref: t});\r\n\t\t\t},\r\n\t\t\tdisconnect() {\r\n\t\t\t\treturn this._createMessage(r.DISCONNECT);\r\n\t\t\t},\r\n\t\t\tinit(e) {\r\n\t\t\t\treturn this._createMessage(r.INIT, e);\r\n\t\t\t},\r\n\t\t\tplayerInitError(e) {\r\n\t\t\t\treturn this._createEventMessage(r.PLAYER_INIT_ERROR, e);\r\n\t\t\t},\r\n\t\t\tgetToken() {\r\n\t\t\t\treturn this._createMessage(r.GET_TOKEN);\r\n\t\t\t},\r\n\t\t\ttoken(e, t) {\r\n\t\t\t\treturn this._createMessage(r.TOKEN, {token: e, ref: t});\r\n\t\t\t},\r\n\t\t\tpause() {\r\n\t\t\t\treturn this._createMessage(r.PAUSE);\r\n\t\t\t},\r\n\t\t\tresume() {\r\n\t\t\t\treturn this._createMessage(r.RESUME);\r\n\t\t\t},\r\n\t\t\ttogglePlay() {\r\n\t\t\t\treturn this._createMessage(r.TOGGLE_PLAY);\r\n\t\t\t},\r\n\t\t\tseek(e) {\r\n\t\t\t\treturn this._createMessage(r.SEEK, e);\r\n\t\t\t},\r\n\t\t\tnextTrack(e) {\r\n\t\t\t\treturn this._createMessage(r.NEXT_TRACK, e);\r\n\t\t\t},\r\n\t\t\tpreviousTrack(e) {\r\n\t\t\t\treturn this._createMessage(r.PREV_TRACK, e);\r\n\t\t\t},\r\n\t\t\tgetCurrentState() {\r\n\t\t\t\treturn this._createMessage(r.GET_CURRENT_STATE);\r\n\t\t\t},\r\n\t\t\tcurrentState(e, t) {\r\n\t\t\t\treturn this._createMessage(r.CURRENT_STATE, {state: e, ref: t});\r\n\t\t\t},\r\n\t\t\tplayerStateChanged(e) {\r\n\t\t\t\treturn this._createEventMessage(r.PLAYER_STATE_CHANGED, e);\r\n\t\t\t},\r\n\t\t\tgetVolume() {\r\n\t\t\t\treturn this._createMessage(r.GET_VOLUME);\r\n\t\t\t},\r\n\t\t\tvolume(e, t) {\r\n\t\t\t\treturn this._createMessage(r.VOLUME, {volume: e, ref: t});\r\n\t\t\t},\r\n\t\t\tsetVolume(e) {\r\n\t\t\t\treturn this._createMessage(r.SET_VOLUME, e);\r\n\t\t\t},\r\n\t\t\tsetName(e) {\r\n\t\t\t\treturn this._createMessage(r.SET_NAME, e);\r\n\t\t\t},\r\n\t\t\tembeddedLoaded() {\r\n\t\t\t\treturn this._createMessage(r.LOADED);\r\n\t\t\t},\r\n\t\t\t_createEventMessage(e, t) {\r\n\t\t\t\treturn this._createMessage(r.EVENT, {name: e, eventData: t});\r\n\t\t\t},\r\n\t\t\t_createMessage(e, t) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttype: r.SPOTIFY_MESSAGE,\r\n\t\t\t\t\tbody: {topic: e, data: t ? JSON.parse(JSON.stringify(t)) : null},\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t};\r\n\t\te.exports = r;\r\n\t},\r\n\tfunction (e, t) {\r\n\t\tlet n;\r\n\t\tn = (function () {\r\n\t\t\treturn this;\r\n\t\t})();\r\n\t\ttry {\r\n\t\t\tn = n || Function('return this')() || (0, eval)('this');\r\n\t\t} catch (e) {\r\n\t\t\ttypeof window === 'object' && (n = window);\r\n\t\t}\r\n\t\te.exports = n;\r\n\t},\r\n\tfunction (e, t, n) {\r\n\t\tfunction r() {\r\n\t\t\tconst e = n(3);\r\n\t\t\tif (!document.body) throw new Error(\"Document doesn't have a body\");\r\n\t\t\tif (\r\n\t\t\t\t((window.Spotify = {Player: e.setupPlayerEnv(window)}),\r\n\t\t\t\twindow.onSpotifyWebPlaybackSDKReady)\r\n\t\t\t) window.onSpotifyWebPlaybackSDKReady();\r\n\t\t\telse {\r\n\t\t\t\tif (!window.onSpotifyPlayerAPIReady) throw new Error('onSpotifyWebPlaybackSDKReady is not defined');\r\n\t\t\t\twindow.onSpotifyPlayerAPIReady();\r\n\t\t\t}\r\n\t\t}\r\n\t\tdocument.readyState === 'complete'\r\n\t\t\t? r()\r\n\t\t\t: window.addEventListener('load', r);\r\n\t},\r\n\tfunction (e, t, n) {\r\n\t\tconst r = n(4);\r\n\t\tconst s = n(5);\r\n\t\tconst o = n(0);\r\n\t\tconst i = n(6);\r\n\t\tconst a = function (e, t) {\r\n\t\t\tlet n;\r\n\t\t\tconst a = 'https://sdk.scdn.co/embedded/index.html';\r\n\t\t\tconst u = s.defer();\r\n\t\t\tconst c = new r();\r\n\t\t\tconst _\r\n        = t\r\n        || function (t) {\r\n        \tconst n = e.document.createElement('iframe');\r\n        \treturn (\r\n        \t\t(n.src = t),\r\n        \t\tn.setAttribute('alt', 'Audio Playback Container'),\r\n        \t\tn.setAttribute('tabIndex', '-1'),\r\n        \t\tn.style.setProperty('position', 'absolute', 'important'),\r\n        \t\tn.style.setProperty('left', '-1px', 'important'),\r\n        \t\tn.style.setProperty('width', '0', 'important'),\r\n        \t\tn.style.setProperty('height', '0', 'important'),\r\n        \t\tn.style.setProperty('border', 'none', 'important'),\r\n        \t\tn.style.setProperty('outline', 'none', 'important'),\r\n        \t\t(n.allow = 'encrypted-media; autoplay'),\r\n        \t\te.document.body.appendChild(n),\r\n        \t\tn.contentWindow\r\n        \t);\r\n        };\r\n\t\t\tvar h = function (t) {\r\n\t\t\t\tt === o.LOADED && (c.stopListening(e, h), u.resolve());\r\n\t\t\t};\r\n\t\t\tc.listen(e, h), (n = _(a));\r\n\t\t\tconst f = function (t) {\r\n\t\t\t\t(this._options = this._sanitizeOptions(t)),\r\n\t\t\t\t(this._handleMessages = this._handleMessages.bind(this)),\r\n\t\t\t\t(this._messageHandlers = {}),\r\n\t\t\t\t(this._eventListeners = {}),\r\n\t\t\t\tthis._setupMessageHandlers(),\r\n\t\t\t\t(this._connectionRequests = {}),\r\n\t\t\t\t(this._getCurrentStateRequests = {}),\r\n\t\t\t\t(this._getVolumeRequests = {}),\r\n\t\t\t\t(this.isLoaded = u.promise.then(() => {\r\n\t\t\t\t\tc.listen(e, this._handleMessages),\r\n\t\t\t\t\tthis._sendMessage(o.init(this._options));\r\n\t\t\t\t}));\r\n\t\t\t};\r\n\t\t\treturn (\r\n\t\t\t\t(f.prototype._sanitizeOptions = function (t) {\r\n\t\t\t\t\tconst n = (e && e.location && e.location.hostname) || '';\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tname: t.name || n,\r\n\t\t\t\t\t\tid: i.get(),\r\n\t\t\t\t\t\tgetOAuthToken: t.getOAuthToken || t.getOauthToken,\r\n\t\t\t\t\t\tvolume: t.volume || 1,\r\n\t\t\t\t\t};\r\n\t\t\t\t}),\r\n\t\t\t\t(f.prototype._setupMessageHandlers = function () {\r\n\t\t\t\t\t(this._messageHandlers[o.GET_TOKEN] = this._onGetToken.bind(this)),\r\n\t\t\t\t\t(this._messageHandlers[o.EVENT] = this._onEvent.bind(this)),\r\n\t\t\t\t\t(this._messageHandlers[o.CONNECTED] = this._onConnected.bind(this)),\r\n\t\t\t\t\t(this._messageHandlers[o.CURRENT_STATE] = this._onCurrentState.bind(\r\n\t\t\t\t\t\tthis,\r\n\t\t\t\t\t)),\r\n\t\t\t\t\t(this._messageHandlers[o.VOLUME] = this._onVolume.bind(this));\r\n\t\t\t\t}),\r\n\t\t\t\t(f.prototype.connect = function () {\r\n\t\t\t\t\treturn this.isLoaded.then(() => {\r\n\t\t\t\t\t\tconst e = this._sendMessage(o.connect());\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t(this._connectionRequests[e] = s.defer()),\r\n\t\t\t\t\t\t\tthis._connectionRequests[e].promise\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t});\r\n\t\t\t\t}),\r\n\t\t\t\t(f.prototype.on = function (e, t) {\r\n\t\t\t\t\tif (!e) throw new TypeError('Argument `eventName` is required.');\r\n\t\t\t\t\tif (typeof t !== 'function') throw new TypeError('Argument `listener` must be a function.');\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t(this._eventListeners[e] = this._eventListeners[e] || []),\r\n\t\t\t\t\t\tthis._eventListeners[e].indexOf(t) === -1\r\n              && (this._eventListeners[e].push(t), !0)\r\n\t\t\t\t\t);\r\n\t\t\t\t}),\r\n\t\t\t\t(f.prototype.addListener = function (e, t) {\r\n\t\t\t\t\treturn this.on(e, t);\r\n\t\t\t\t}),\r\n\t\t\t\t(f.prototype.removeListener = function (e, t) {\r\n\t\t\t\t\tif (!e) throw new TypeError('Argument `eventName` is required.');\r\n\t\t\t\t\tif (arguments.length === 1) return (this._eventListeners[e] = []), !0;\r\n\t\t\t\t\tif (typeof t !== 'function') throw new TypeError('Argument `listener` must be a function.');\r\n\t\t\t\t\tconst n = this._eventListeners[e];\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t!(!n || !n.length)\r\n            && ((this._eventListeners[e] = n.filter((e) => {\r\n            \treturn e !== t;\r\n            })),\r\n            !0)\r\n\t\t\t\t\t);\r\n\t\t\t\t}),\r\n\t\t\t\t(f.prototype.getCurrentState = function () {\r\n\t\t\t\t\treturn this.isLoaded.then(() => {\r\n\t\t\t\t\t\tconst e = this._sendMessage(o.getCurrentState());\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t(this._getCurrentStateRequests[e] = s.defer()),\r\n\t\t\t\t\t\t\tthis._getCurrentStateRequests[e].promise\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t});\r\n\t\t\t\t}),\r\n\t\t\t\t(f.prototype.getVolume = function () {\r\n\t\t\t\t\treturn this.isLoaded.then(() => {\r\n\t\t\t\t\t\tconst e = this._sendMessage(o.getVolume());\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t(this._getVolumeRequests[e] = s.defer()),\r\n\t\t\t\t\t\t\tthis._getVolumeRequests[e].promise\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t});\r\n\t\t\t\t}),\r\n\t\t\t\t(f.prototype.setName = function (e) {\r\n\t\t\t\t\treturn this._sendMessageWhenLoaded(o.setName(e));\r\n\t\t\t\t}),\r\n\t\t\t\t(f.prototype.setVolume = function (e) {\r\n\t\t\t\t\treturn this._sendMessageWhenLoaded(o.setVolume(e));\r\n\t\t\t\t}),\r\n\t\t\t\t(f.prototype.pause = function () {\r\n\t\t\t\t\treturn this._sendMessageWhenLoaded(o.pause());\r\n\t\t\t\t}),\r\n\t\t\t\t(f.prototype.resume = function () {\r\n\t\t\t\t\treturn this._sendMessageWhenLoaded(o.resume());\r\n\t\t\t\t}),\r\n\t\t\t\t(f.prototype.togglePlay = function () {\r\n\t\t\t\t\treturn this._sendMessageWhenLoaded(o.togglePlay());\r\n\t\t\t\t}),\r\n\t\t\t\t(f.prototype.seek = function (e) {\r\n\t\t\t\t\treturn this._sendMessageWhenLoaded(o.seek(e));\r\n\t\t\t\t}),\r\n\t\t\t\t(f.prototype.previousTrack = function (e) {\r\n\t\t\t\t\treturn this._sendMessageWhenLoaded(o.previousTrack(e));\r\n\t\t\t\t}),\r\n\t\t\t\t(f.prototype.nextTrack = function (e) {\r\n\t\t\t\t\treturn this._sendMessageWhenLoaded(o.nextTrack(e));\r\n\t\t\t\t}),\r\n\t\t\t\t(f.prototype.disconnect = function () {\r\n\t\t\t\t\treturn this._sendMessageWhenLoaded(o.disconnect());\r\n\t\t\t\t}),\r\n\t\t\t\t(f.prototype._getListeners = (function () {\r\n\t\t\t\t\tconst e = {};\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t(e[o.ACCOUNT_ERROR] = 'account_error'),\r\n\t\t\t\t\t\t(e[o.AUTH_ERROR] = 'authentication_error'),\r\n\t\t\t\t\t\t(e[o.PLAYBACK_ERROR] = 'playback_error'),\r\n\t\t\t\t\t\t(e[o.PLAYER_INIT_ERROR] = 'initialization_error'),\r\n\t\t\t\t\t\t(e[o.PLAYER_READY] = 'ready'),\r\n\t\t\t\t\t\t(e[o.PLAYER_NOT_READY] = 'not_ready'),\r\n\t\t\t\t\t\t(e[o.PLAYER_STATE_CHANGED] = 'player_state_changed'),\r\n\t\t\t\t\t\tfunction (t) {\r\n\t\t\t\t\t\t\treturn this._eventListeners[e[t]] || [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t})()),\r\n\t\t\t\t(f.prototype._onEvent = function (e) {\r\n\t\t\t\t\tthis._getListeners(e.name).forEach((t) => {\r\n\t\t\t\t\t\tt(e.eventData);\r\n\t\t\t\t\t});\r\n\t\t\t\t}),\r\n\t\t\t\t(f.prototype._onGetToken = function (e, t) {\r\n\t\t\t\t\tconst n = this._options.getOAuthToken;\r\n\t\t\t\t\tif (typeof n !== 'function') {\r\n\t\t\t\t\t\tconst r = 'getOAuthToken is not a function';\r\n\t\t\t\t\t\tif (this._getListeners(o.PLAYER_INIT_ERROR).length) {\r\n\t\t\t\t\t\t\treturn void this._onEvent({\r\n\t\t\t\t\t\t\t\tname: o.PLAYER_INIT_ERROR,\r\n\t\t\t\t\t\t\t\teventData: {message: r},\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthrow new Error(r);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnew s(n).then((e) => {\r\n\t\t\t\t\t\tthis._sendMessage(o.token(e, t));\r\n\t\t\t\t\t});\r\n\t\t\t\t}),\r\n\t\t\t\t(f.prototype._onConnected = function (e) {\r\n\t\t\t\t\te.ref in this._connectionRequests\r\n            && (this._connectionRequests[e.ref].resolve(e.connected),\r\n            delete this._connectionRequests[e.ref]);\r\n\t\t\t\t}),\r\n\t\t\t\t(f.prototype._onCurrentState = function (e) {\r\n\t\t\t\t\te.ref in this._getCurrentStateRequests\r\n            && (this._getCurrentStateRequests[e.ref].resolve(e.state),\r\n            delete this._getCurrentStateRequests[e.ref]);\r\n\t\t\t\t}),\r\n\t\t\t\t(f.prototype._onVolume = function (e) {\r\n\t\t\t\t\te.ref in this._getVolumeRequests\r\n            && (this._getVolumeRequests[e.ref].resolve(e.volume),\r\n            delete this._getVolumeRequests[e.ref]);\r\n\t\t\t\t}),\r\n\t\t\t\t(f.prototype._handleMessages = function (e, t, n) {\r\n\t\t\t\t\te in this._messageHandlers && this._messageHandlers[e](t, n);\r\n\t\t\t\t}),\r\n\t\t\t\t(f.prototype._sendMessage = function (e) {\r\n\t\t\t\t\treturn c.send(n, e, a);\r\n\t\t\t\t}),\r\n\t\t\t\t(f.prototype._sendMessageWhenLoaded = function (e) {\r\n\t\t\t\t\treturn this.isLoaded.then(this._sendMessage.bind(this, e));\r\n\t\t\t\t}),\r\n\t\t\t\tf\r\n\t\t\t);\r\n\t\t};\r\n\t\te.exports.setupPlayerEnv = a;\r\n\t},\r\n\tfunction (e, t, n) {\r\n\t\tconst r = n(0);\r\n\t\tconst s = function () {\r\n\t\t\t(this._onMessageCallback = function () {}),\r\n\t\t\t(this._receiveMessage = this._receiveMessage.bind(this)),\r\n\t\t\t(this._messageId = 0);\r\n\t\t};\r\n\t\t(s.prototype.listen = function (e, t) {\r\n\t\t\t(this._onMessageCallback = t),\r\n\t\t\te.addEventListener('message', this._receiveMessage);\r\n\t\t}),\r\n\t\t(s.prototype.stopListening = function (e) {\r\n\t\t\te.removeEventListener('message', this._receiveMessage);\r\n\t\t}),\r\n\t\t(s.prototype.send = function (e, t, n) {\r\n\t\t\treturn e.postMessage(this._addMessageId(t), n || '*'), t.seq;\r\n\t\t}),\r\n\t\t(s.prototype._addMessageId = function (e) {\r\n\t\t\treturn (e.seq = this._messageId++), e;\r\n\t\t}),\r\n\t\t(s.prototype._receiveMessage = function (e) {\r\n\t\t\tconst t = e.data;\r\n\t\t\tt.type === r.SPOTIFY_MESSAGE\r\n          && t.body\r\n          && t.body.topic\r\n          && this._onMessageCallback(t.body.topic, t.body.data, t.seq);\r\n\t\t}),\r\n\t\t(e.exports = s);\r\n\t},\r\n\tfunction (e, t, n) {\r\n\t\t(function (t) {\r\n\t\t\tconst n = t.Promise;\r\n\t\t\tif (!n) throw new Error('Fatal: no Promise implementation available.');\r\n\t\t\tlet r;\r\n\t\t\t(r = Object.defineProperty\r\n\t\t\t\t? function (e, t, n) {\r\n\t\t\t\t\treturn e[t]\r\n\t\t\t\t\t\t? e\r\n\t\t\t\t\t\t: (Object.defineProperty(e, t, {\r\n\t\t\t\t\t\t\tvalue: n,\r\n\t\t\t\t\t\t\tconfigurable: !0,\r\n\t\t\t\t\t\t\twritable: !0,\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\te);\r\n\t\t\t\t}\r\n\t\t\t\t: function (e, t, n) {\r\n\t\t\t\t\treturn e[t] ? e : ((e[t] = n), e);\r\n\t\t\t\t}),\r\n\t\t\tr(n, 'defer', () => {\r\n\t\t\t\tconst e = {};\r\n\t\t\t\treturn (\r\n\t\t\t\t\t(e.promise = new n((t, n) => {\r\n\t\t\t\t\t\t(e.resolve = t), (e.reject = n);\r\n\t\t\t\t\t})),\r\n\t\t\t\t\te\r\n\t\t\t\t);\r\n\t\t\t}),\r\n\t\t\tr(n.prototype, 'spread', function (e, t) {\r\n\t\t\t\treturn this.then((e) => {\r\n\t\t\t\t\treturn n.all(e);\r\n\t\t\t\t}).then(function (t) {\r\n\t\t\t\t\treturn t.length === 1 ? e(t[0]) : e.apply(this, t);\r\n\t\t\t\t}, t);\r\n\t\t\t}),\r\n\t\t\t(e.exports = n);\r\n\t\t}).call(t, n(1));\r\n\t},\r\n\tfunction (e, t, n) {\r\n\t\t(function (t) {\r\n\t\t\tfunction r() {\r\n\t\t\t\tconst e = new t.Uint8Array(16);\r\n\t\t\t\treturn (\r\n\t\t\t\t\tt.crypto.getRandomValues(e), i.toHex(e.join(''), 40).slice(0, 40)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tfunction s() {\r\n\t\t\t\tfor (var e = new Array(27), t = e.length; t--;) e[t] = Math.floor(8 * Math.random());\r\n\t\t\t\treturn i.toHex(e.join(''), 40);\r\n\t\t\t}\r\n\t\t\tfunction o(e, n) {\r\n\t\t\t\tif (e && typeof e === 'string') return e;\r\n\t\t\t\tif (n) return u();\r\n\t\t\t\tlet r = t.localStorage.getItem(c);\r\n\t\t\t\treturn r || ((r = u()), t.localStorage.setItem(c, r)), r;\r\n\t\t\t}\r\n\t\t\tvar i = n(7);\r\n\t\t\tconst a\r\n        = typeof t.Uint8Array === 'function'\r\n        && void 0 !== t.crypto\r\n        && typeof t.crypto.getRandomValues === 'function';\r\n\t\t\tvar u = a ? r : s;\r\n\t\t\tvar c = '_spharmony_device_id';\r\n\t\t\te.exports = {\r\n\t\t\t\tget: o,\r\n\t\t\t\tgenerate: u,\r\n\t\t\t\tgenerateWithCrypto: r,\r\n\t\t\t\tgenerateWithRandom: s,\r\n\t\t\t};\r\n\t\t}).call(t, n(1));\r\n\t},\r\n\tfunction (e, t, n) {\r\n\t\tfunction r(e, t, n) {\r\n\t\t\tfor (var r = 0, s = 0; s < e.length; ++s) {\r\n\t\t\t\tconst o = e[s] * t + r;\r\n\t\t\t\t(e[s] = o % n), (r = ~~(o / n));\r\n\t\t\t}\r\n\t\t\tfor (; r;) e.push(r % n), (r = ~~(r / n));\r\n\t\t}\r\n\t\tfunction s(e, t, n, r) {\r\n\t\t\tlet s;\r\n\t\t\tlet o;\r\n\t\t\tlet i = 0;\r\n\t\t\tfor (o = 0; o < t.length; ++o) (s = ~~e[o] + t[o] * n + i), (e[o] = s % r), (i = ~~(s / r));\r\n\t\t\tfor (; i;) (s = ~~e[o] + i), (e[o] = s % r), (i = ~~(s / r)), ++o;\r\n\t\t}\r\n\t\tfunction o(e, t, n) {\r\n\t\t\tfor (var o = [0], i = [1], a = 0; a < e.length; ++a) s(o, i, e[a], n), r(i, t, n);\r\n\t\t\treturn o;\r\n\t\t}\r\n\t\tfunction i(e, t) {\r\n\t\t\tfor (var n = [], r = 0; r < e.length; ++r) n.push(t[e[r]]);\r\n\t\t\treturn n.reverse();\r\n\t\t}\r\n\t\tfunction a(e, t) {\r\n\t\t\tfor (; e.length < t;) e.push(0);\r\n\t\t\treturn e;\r\n\t\t}\r\n\t\tconst u = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\r\n\t\tconst c = {};\r\n\t\tconst _ = {};\r\n\t\t!(function () {\r\n\t\t\tlet e;\r\n\t\t\tlet t;\r\n\t\t\tfor (e = 0, t = u.length; e < t; ++e) _[u[e]] = e;\r\n\t\t\tfor (e = 0; e < 16; ++e) c['0123456789abcdef'[e]] = e;\r\n\t\t\tfor (e = 0; e < 16; ++e) c['0123456789ABCDEF'[e]] = e;\r\n\t\t})(),\r\n\t\t(e.exports = {\r\n\t\t\tfromBytes(e, t) {\r\n\t\t\t\treturn i(a(o(e.slice(0).reverse(), 256, 62), t), u).join('');\r\n\t\t\t},\r\n\t\t\ttoBytes(e, t) {\r\n\t\t\t\treturn a(o(i(e, _), 62, 256), t).reverse();\r\n\t\t\t},\r\n\t\t\ttoHex(e, t) {\r\n\t\t\t\treturn i(a(o(i(e, _), 62, 16), t), u).join('');\r\n\t\t\t},\r\n\t\t\tfromHex(e, t) {\r\n\t\t\t\treturn i(a(o(i(e, c), 16, 62), t), u).join('');\r\n\t\t\t},\r\n\t\t});\r\n\t},\r\n]);\r\n"],"sourceRoot":""}